<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Embed Twitter profile</title>
</head>
<body style="display: flex; gap: 2rem; flex-direction: column; align-items: center; padding: 3rem;">
	<h3>Enter Twitter Username</h3>
	<form id="form" style="font-size: 1.5rem;">
		<input name="username" type="text" placeholder="User twitter username" value="elonmusk">
	</form>
	<div id="result">
	</div>
</body>

<script>
	const result = document.getElementById('result')
	const form = document.getElementById('form')
	form.addEventListener('submit', (e) => {
		e.preventDefault()
		const formData = new FormData(e.target)
		const username = formData.get('username')

		fetchUserProfile(username)
	})

	function fetchUserProfile (username) {
		const div = document.createElement('div')
		div.style.width = '800px'

		const a = document.createElement('a')
		a.classList.add('twitter-timeline')
		a.href = `https://twitter.com/${username}`
		a.innerText = `Tweets by ${username}`

		const script = document.createElement('script')
		script.src = 'https://platform.twitter.com/widgets.js'
		script.charset = 'utf-8'

		div.appendChild(a)
		div.appendChild(script)

		result.firstElementChild?.remove()
		result.appendChild(div)
	}

	fetchUserProfile('elonmusk')
</script>
</html>